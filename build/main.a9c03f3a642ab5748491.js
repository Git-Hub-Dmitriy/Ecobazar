(()=>{"use strict";var e,r,t,a,c,f={},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var t=n[e]={exports:{}};return f[e](t,t.exports,o),t.exports}o.m=f,e=[],o.O=(r,t,a,c)=>{if(!t){var f=1/0;for(i=0;i<e.length;i++){for(var[t,a,c]=e[i],n=!0,d=0;d<t.length;d++)(!1&c||f>=c)&&Object.keys(o.O).every(e=>o.O[e](t[d]))?t.splice(d--,1):(n=!1,c<f&&(f=c));if(n){e.splice(i--,1);var b=a();void 0!==b&&(r=b)}}return r}c=c||0;for(var i=e.length;i>0&&e[i-1][2]>c;i--)e[i]=e[i-1];e[i]=[t,a,c]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var c=Object.create(null);o.r(c);var f={};r=r||[null,t({}),t([]),t(t)];for(var n=2&a&&e;("object"==typeof n||"function"==typeof n)&&!~r.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach(r=>f[r]=()=>e[r]);return f.default=()=>e,o.d(c,f),c},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((r,t)=>(o.f[t](e,r),r),[])),o.u=e=>"main."+{5:"14f0d705f14c4f05edd8",52:"7f6bf0f132a68cc5ac1b",63:"174698e1578f1efe809e",90:"746d7376a7b2013cea88",95:"03dd4173962c8b785329",108:"5426412ecd5bc28abbac",251:"4a47a1d1f5b60682f823",296:"c8ea5d0a95be7bd237a1",314:"346d59825a51b77da441",335:"ec06fef29356ea6d33b9",355:"e7177a865e26328fc3cb",528:"6e9f7ca7827d74140669",560:"946ca80f58bde1d310c8",562:"c15421d8731a14bf34d9",639:"ff1300f73cdb22872599",643:"05cad3d6e7d389bba47d",647:"36ea98d02b815a3bb3ac",700:"3606d21ba71dbe2101cc",717:"bb78dfd11f20d72fa2cf",723:"fb3ff6f56ba2ce306d8f",732:"5388e11fd3aa40367c5f",757:"b048001226fe04be307a",815:"3d8f49832863b678bba2",910:"90618123cc3b016d2c43",986:"6cc88faf4e33d7bddb9b",996:"c8918d776755711be58b"}[e]+".js",o.miniCssF=e=>"css/main."+{5:"1c222dc7342e69949593",52:"1ee3be16237f7d4b9be4",90:"f5a35a2f83add7aedfac",95:"15110975c87d72cd2595",108:"cb4ec1b6058941ce442a",251:"b52d189df5228b96a4d1",296:"2337ca8b7eac3d2c0e62",314:"798b0cd5d1d36ac3b282",335:"144988bdc8f82d8cc7fc",355:"bc74704d6bc9140512d1",528:"c840a6d72109bf5cd7ff",560:"ae10e0c33bef0cf5726d",562:"57803aa9e950bf7ffe90",643:"5954aa919b096fa90e98",647:"25d6770c8201ce647d37",700:"510fd9da68e996273962",717:"722a9d31e825a523ed11",723:"621345e4eb07657aae48",732:"c8f18d3252a9f4cc6256",757:"51be2407804995f81805",815:"b4b127e22469608e0c99",910:"6f869c51c641303fa6b5",986:"6aea446812642b58b47f",996:"1bea16e6eba4c7c8eac7"}[e]+".css",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),a={},c="ecobazar:",o.l=(e,r,t,f)=>{if(a[e])a[e].push(r);else{var n,d;if(void 0!==t)for(var b=document.getElementsByTagName("script"),i=0;i<b.length;i++){var l=b[i];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==c+t){n=l;break}}n||(d=!0,(n=document.createElement("script")).charset="utf-8",o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",c+t),n.src=e),a[e]=[r];var u=(r,t)=>{n.onerror=n.onload=null,clearTimeout(s);var c=a[e];if(delete a[e],n.parentNode&&n.parentNode.removeChild(n),c&&c.forEach(e=>e(t)),r)return r(t)},s=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),d&&document.head.appendChild(n)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var r=o.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var a=t.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=t[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{if("undefined"!=typeof document){var e={121:0};o.f.miniCss=(r,t)=>{e[r]?t.push(e[r]):0!==e[r]&&{5:1,52:1,90:1,95:1,108:1,251:1,296:1,314:1,335:1,355:1,528:1,560:1,562:1,643:1,647:1,700:1,717:1,723:1,732:1,757:1,815:1,910:1,986:1,996:1}[r]&&t.push(e[r]=(e=>new Promise((r,t)=>{var a=o.miniCssF(e),c=o.p+a;if(((e,r)=>{for(var t=document.getElementsByTagName("link"),a=0;a<t.length;a++){var c=(n=t[a]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(c===e||c===r))return n}var f=document.getElementsByTagName("style");for(a=0;a<f.length;a++){var n;if((c=(n=f[a]).getAttribute("data-href"))===e||c===r)return n}})(a,c))return r();((e,r,t,a,c)=>{var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",o.nc&&(f.nonce=o.nc),f.onerror=f.onload=t=>{if(f.onerror=f.onload=null,"load"===t.type)a();else{var n=t&&t.type,o=t&&t.target&&t.target.href||r,d=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+o+")");d.name="ChunkLoadError",d.code="CSS_CHUNK_LOAD_FAILED",d.type=n,d.request=o,f.parentNode&&f.parentNode.removeChild(f),c(d)}},f.href=r,document.head.appendChild(f)})(e,c,0,r,t)}))(r).then(()=>{e[r]=0},t=>{throw delete e[r],t}))}}})(),(()=>{var e={121:0};o.f.j=(r,t)=>{var a=o.o(e,r)?e[r]:void 0;if(0!==a)if(a)t.push(a[2]);else if(121!=r){var c=new Promise((t,c)=>a=e[r]=[t,c]);t.push(a[2]=c);var f=o.p+o.u(r),n=new Error;o.l(f,t=>{if(o.o(e,r)&&(0!==(a=e[r])&&(e[r]=void 0),a)){var c=t&&("load"===t.type?"missing":t.type),f=t&&t.target&&t.target.src;n.message="Loading chunk "+r+" failed.\n("+c+": "+f+")",n.name="ChunkLoadError",n.type=c,n.request=f,a[1](n)}},"chunk-"+r,r)}else e[r]=0},o.O.j=r=>0===e[r];var r=(r,t)=>{var a,c,[f,n,d]=t,b=0;if(f.some(r=>0!==e[r])){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(d)var i=d(o)}for(r&&r(t);b<f.length;b++)c=f[b],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(i)},t=self.webpackChunkecobazar=self.webpackChunkecobazar||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5kMmI1YmZmMWE2Y2I1ZmEwYTY1Ni5qcyIsIm1hcHBpbmdzIjoidUJBQUlBLEVDQ0FDLEVBREFDLEVDQUFDLEVBQ0FDLEUsS0NBQUMsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxPQUNmLENBR0FKLEVBQW9CTyxFQUFJRCxFSHpCcEJaLEVBQVcsR0FDZk0sRUFBb0JRLEVBQUksQ0FBQ0MsRUFBUUMsRUFBVUMsRUFBSUMsS0FDOUMsSUFBR0YsRUFBSCxDQU1BLElBQUlHLEVBQWVDLElBQ25CLElBQVNDLEVBQUksRUFBR0EsRUFBSXJCLEVBQVNzQixPQUFRRCxJQUFLLENBR3pDLElBRkEsSUFBS0wsRUFBVUMsRUFBSUMsR0FBWWxCLEVBQVNxQixHQUNwQ0UsR0FBWSxFQUNQQyxFQUFJLEVBQUdBLEVBQUlSLEVBQVNNLE9BQVFFLE1BQ3BCLEVBQVhOLEdBQXNCQyxHQUFnQkQsSUFBYU8sT0FBT0MsS0FBS3BCLEVBQW9CUSxHQUFHYSxNQUFPQyxHQUFTdEIsRUFBb0JRLEVBQUVjLEdBQUtaLEVBQVNRLEtBQzlJUixFQUFTYSxPQUFPTCxJQUFLLElBRXJCRCxHQUFZLEVBQ1RMLEVBQVdDLElBQWNBLEVBQWVELElBRzdDLEdBQUdLLEVBQVcsQ0FDYnZCLEVBQVM2QixPQUFPUixJQUFLLEdBQ3JCLElBQUlTLEVBQUliLFNBQ0VSLElBQU5xQixJQUFpQmYsRUFBU2UsRUFDL0IsQ0FDRCxDQUNBLE9BQU9mLENBbkJQLENBSkNHLEVBQVdBLEdBQVksRUFDdkIsSUFBSSxJQUFJRyxFQUFJckIsRUFBU3NCLE9BQVFELEVBQUksR0FBS3JCLEVBQVNxQixFQUFJLEdBQUcsR0FBS0gsRUFBVUcsSUFBS3JCLEVBQVNxQixHQUFLckIsRUFBU3FCLEVBQUksR0FDckdyQixFQUFTcUIsR0FBSyxDQUFDTCxFQUFVQyxFQUFJQyxJSUovQlosRUFBb0J5QixFQUFLcEIsSUFDeEIsSUFBSXFCLEVBQVNyQixHQUFVQSxFQUFPc0IsV0FDN0IsSUFBT3RCLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBTCxFQUFvQjRCLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLEdITko5QixFQUFXdUIsT0FBT1csZUFBa0JDLEdBQVNaLE9BQU9XLGVBQWVDLEdBQVNBLEdBQVNBLEVBQWEsVUFRdEcvQixFQUFvQmdDLEVBQUksU0FBU0MsRUFBT0MsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRCxFQUFRRSxLQUFLRixJQUNoQixFQUFQQyxFQUFVLE9BQU9ELEVBQ3BCLEdBQW9CLGlCQUFWQSxHQUFzQkEsRUFBTyxDQUN0QyxHQUFXLEVBQVBDLEdBQWFELEVBQU1OLFdBQVksT0FBT00sRUFDMUMsR0FBVyxHQUFQQyxHQUFvQyxtQkFBZkQsRUFBTUcsS0FBcUIsT0FBT0gsQ0FDNUQsQ0FDQSxJQUFJSSxFQUFLbEIsT0FBT21CLE9BQU8sTUFDdkJ0QyxFQUFvQndCLEVBQUVhLEdBQ3RCLElBQUlFLEVBQU0sQ0FBQyxFQUNYNUMsRUFBaUJBLEdBQWtCLENBQUMsS0FBTUMsRUFBUyxDQUFDLEdBQUlBLEVBQVMsSUFBS0EsRUFBU0EsSUFDL0UsSUFBSSxJQUFJNEMsRUFBaUIsRUFBUE4sR0FBWUQsR0FBMEIsaUJBQVhPLEdBQXlDLG1CQUFYQSxNQUE0QjdDLEVBQWU4QyxRQUFRRCxHQUFVQSxFQUFVNUMsRUFBUzRDLEdBQzFKckIsT0FBT3VCLG9CQUFvQkYsR0FBU0csUUFBU3JCLEdBQVNpQixFQUFJakIsR0FBTyxJQUFPVyxFQUFNWCxJQUkvRSxPQUZBaUIsRUFBYSxRQUFJLElBQU0sRUFDdkJ2QyxFQUFvQjRCLEVBQUVTLEVBQUlFLEdBQ25CRixDQUNSLEVJeEJBckMsRUFBb0I0QixFQUFJLENBQUN4QixFQUFTd0MsS0FDakMsSUFBSSxJQUFJdEIsS0FBT3NCLEVBQ1g1QyxFQUFvQjZDLEVBQUVELEVBQVl0QixLQUFTdEIsRUFBb0I2QyxFQUFFekMsRUFBU2tCLElBQzVFSCxPQUFPMkIsZUFBZTFDLEVBQVNrQixFQUFLLENBQUV5QixZQUFZLEVBQU1DLElBQUtKLEVBQVd0QixNQ0ozRXRCLEVBQW9CaUQsRUFBSSxDQUFDLEVBR3pCakQsRUFBb0JrRCxFQUFLQyxHQUNqQkMsUUFBUUMsSUFBSWxDLE9BQU9DLEtBQUtwQixFQUFvQmlELEdBQUdLLE9BQU8sQ0FBQ0MsRUFBVWpDLEtBQ3ZFdEIsRUFBb0JpRCxFQUFFM0IsR0FBSzZCLEVBQVNJLEdBQzdCQSxHQUNMLEtDTkp2RCxFQUFvQndELEVBQUtMLEdBRWpCLFFBQVUsQ0FBQyxFQUFJLHVCQUF1QixHQUFLLHVCQUF1QixHQUFLLHVCQUF1QixHQUFLLHVCQUF1QixHQUFLLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHdCQUF3QkEsR0FBVyxNQ0Yzd0JuRCxFQUFvQnlELFNBQVlOLEdBRXhCLFlBQWMsQ0FBQyxFQUFJLHVCQUF1QixHQUFLLHVCQUF1QixHQUFLLHVCQUF1QixHQUFLLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHVCQUF1QixJQUFNLHdCQUF3QkEsR0FBVyxPQ0h0dEJuRCxFQUFvQjBELEVBQUksV0FDdkIsR0FBMEIsaUJBQWZDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT3hCLE1BQVEsSUFBSXlCLFNBQVMsY0FBYixFQUNoQixDQUFFLE1BQU9WLEdBQ1IsR0FBc0IsaUJBQVhXLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsR0NBeEI3RCxFQUFvQjZDLEVBQUksQ0FBQ2QsRUFBSytCLElBQVUzQyxPQUFPNEMsVUFBVUMsZUFBZUMsS0FBS2xDLEVBQUsrQixHUkE5RWpFLEVBQWEsQ0FBQyxFQUNkQyxFQUFvQixZQUV4QkUsRUFBb0JrRSxFQUFJLENBQUNDLEVBQUtDLEVBQU05QyxFQUFLNkIsS0FDeEMsR0FBR3RELEVBQVdzRSxHQUFRdEUsRUFBV3NFLEdBQUtFLEtBQUtELE9BQTNDLENBQ0EsSUFBSUUsRUFBUUMsRUFDWixRQUFXcEUsSUFBUm1CLEVBRUYsSUFEQSxJQUFJa0QsRUFBVUMsU0FBU0MscUJBQXFCLFVBQ3BDM0QsRUFBSSxFQUFHQSxFQUFJeUQsRUFBUXhELE9BQVFELElBQUssQ0FDdkMsSUFBSTRELEVBQUlILEVBQVF6RCxHQUNoQixHQUFHNEQsRUFBRUMsYUFBYSxRQUFVVCxHQUFPUSxFQUFFQyxhQUFhLGlCQUFtQjlFLEVBQW9Cd0IsRUFBSyxDQUFFZ0QsRUFBU0ssRUFBRyxLQUFPLENBQ3BILENBRUdMLElBQ0hDLEdBQWEsR0FDYkQsRUFBU0csU0FBU0ksY0FBYyxXQUV6QkMsUUFBVSxRQUNiOUUsRUFBb0IrRSxJQUN2QlQsRUFBT1UsYUFBYSxRQUFTaEYsRUFBb0IrRSxJQUVsRFQsRUFBT1UsYUFBYSxlQUFnQmxGLEVBQW9Cd0IsR0FFeERnRCxFQUFPVyxJQUFNZCxHQUVkdEUsRUFBV3NFLEdBQU8sQ0FBQ0MsR0FDbkIsSUFBSWMsRUFBbUIsQ0FBQ0MsRUFBTUMsS0FFN0JkLEVBQU9lLFFBQVVmLEVBQU9nQixPQUFTLEtBQ2pDQyxhQUFhQyxHQUNiLElBQUlDLEVBQVU1RixFQUFXc0UsR0FJekIsVUFIT3RFLEVBQVdzRSxHQUNsQkcsRUFBT29CLFlBQWNwQixFQUFPb0IsV0FBV0MsWUFBWXJCLEdBQ25EbUIsR0FBV0EsRUFBUTlDLFFBQVNoQyxHQUFRQSxFQUFHeUUsSUFDcENELEVBQU0sT0FBT0EsRUFBS0MsSUFFbEJJLEVBQVVJLFdBQVdWLEVBQWlCVyxLQUFLLFVBQU0xRixFQUFXLENBQUUyRixLQUFNLFVBQVdDLE9BQVF6QixJQUFXLE1BQ3RHQSxFQUFPZSxRQUFVSCxFQUFpQlcsS0FBSyxLQUFNdkIsRUFBT2UsU0FDcERmLEVBQU9nQixPQUFTSixFQUFpQlcsS0FBSyxLQUFNdkIsRUFBT2dCLFFBQ25EZixHQUFjRSxTQUFTdUIsS0FBS0MsWUFBWTNCLEVBbkNrQixHU0gzRHRFLEVBQW9Cd0IsRUFBS3BCLElBQ0gsb0JBQVg4RixRQUEwQkEsT0FBT0MsYUFDMUNoRixPQUFPMkIsZUFBZTFDLEVBQVM4RixPQUFPQyxZQUFhLENBQUVsRSxNQUFPLFdBRTdEZCxPQUFPMkIsZUFBZTFDLEVBQVMsYUFBYyxDQUFFNkIsT0FBTyxLLE1DTHZELElBQUltRSxFQUNBcEcsRUFBb0IwRCxFQUFFMkMsZ0JBQWVELEVBQVlwRyxFQUFvQjBELEVBQUU0QyxTQUFXLElBQ3RGLElBQUk3QixFQUFXekUsRUFBb0IwRCxFQUFFZSxTQUNyQyxJQUFLMkIsR0FBYTNCLElBQ2JBLEVBQVM4QixlQUFrRSxXQUFqRDlCLEVBQVM4QixjQUFjQyxRQUFRQyxnQkFDNURMLEVBQVkzQixFQUFTOEIsY0FBY3RCLE1BQy9CbUIsR0FBVyxDQUNmLElBQUk1QixFQUFVQyxFQUFTQyxxQkFBcUIsVUFDNUMsR0FBR0YsRUFBUXhELE9BRVYsSUFEQSxJQUFJRCxFQUFJeUQsRUFBUXhELE9BQVMsRUFDbEJELEdBQUssS0FBT3FGLElBQWMsYUFBYU0sS0FBS04sS0FBYUEsRUFBWTVCLEVBQVF6RCxLQUFLa0UsR0FFM0YsQ0FJRCxJQUFLbUIsRUFBVyxNQUFNLElBQUlPLE1BQU0seURBQ2hDUCxFQUFZQSxFQUFVUSxRQUFRLFNBQVUsSUFBSUEsUUFBUSxPQUFRLElBQUlBLFFBQVEsUUFBUyxJQUFJQSxRQUFRLFlBQWEsS0FDMUc1RyxFQUFvQjZHLEVBQUlULEMsV0NsQnhCLEdBQXdCLG9CQUFiM0IsU0FBWCxDQUNBLElBMkRJcUMsRUFBcUIsQ0FDeEIsSUFBSyxHQUdOOUcsRUFBb0JpRCxFQUFFOEQsUUFBVSxDQUFDNUQsRUFBU0ksS0FFdEN1RCxFQUFtQjNELEdBQVVJLEVBQVNjLEtBQUt5QyxFQUFtQjNELElBQ3pCLElBQWhDMkQsRUFBbUIzRCxJQUZYLENBQUMsRUFBSSxFQUFFLEdBQUssRUFBRSxHQUFLLEVBQUUsR0FBSyxFQUFFLElBQU0sRUFBRSxJQUFNLEVBQUUsSUFBTSxFQUFFLElBQU0sRUFBRSxJQUFNLEVBQUUsSUFBTSxFQUFFLElBQU0sRUFBRSxJQUFNLEVBQUUsSUFBTSxFQUFFLElBQU0sRUFBRSxJQUFNLEVBQUUsSUFBTSxFQUFFLElBQU0sRUFBRSxJQUFNLEVBQUUsSUFBTSxFQUFFLElBQU0sRUFBRSxJQUFNLEVBQUUsSUFBTSxFQUFFLElBQU0sRUFBRSxJQUFNLEdBRW5KQSxJQUN0REksRUFBU2MsS0FBS3lDLEVBQW1CM0QsR0FqQmQsQ0FBQ0EsR0FDZCxJQUFJQyxRQUFRLENBQUM0RCxFQUFTQyxLQUM1QixJQUFJQyxFQUFPbEgsRUFBb0J5RCxTQUFTTixHQUNwQ2dFLEVBQVduSCxFQUFvQjZHLEVBQUlLLEVBQ3ZDLEdBbEJtQixFQUFDQSxFQUFNQyxLQUUzQixJQURBLElBQUlDLEVBQW1CM0MsU0FBU0MscUJBQXFCLFFBQzdDM0QsRUFBSSxFQUFHQSxFQUFJcUcsRUFBaUJwRyxPQUFRRCxJQUFLLENBQ2hELElBQ0lzRyxHQURBQyxFQUFNRixFQUFpQnJHLElBQ1I2RCxhQUFhLGNBQWdCMEMsRUFBSTFDLGFBQWEsUUFDakUsR0FBZSxlQUFaMEMsRUFBSUMsTUFBeUJGLElBQWFILEdBQVFHLElBQWFGLEdBQVcsT0FBT0csQ0FDckYsQ0FDQSxJQUFJRSxFQUFvQi9DLFNBQVNDLHFCQUFxQixTQUN0RCxJQUFRM0QsRUFBSSxFQUFHQSxFQUFJeUcsRUFBa0J4RyxPQUFRRCxJQUFLLENBQ2pELElBQUl1RyxFQUVKLElBRElELEdBREFDLEVBQU1FLEVBQWtCekcsSUFDVDZELGFBQWEsZ0JBQ2hCc0MsR0FBUUcsSUFBYUYsRUFBVSxPQUFPRyxDQUN2RCxHQU1JRyxDQUFlUCxFQUFNQyxHQUFXLE9BQU9ILElBdERyQixFQUFDN0QsRUFBU2dFLEVBQVVPLEVBQVFWLEVBQVNDLEtBQzNELElBQUlVLEVBQVVsRCxTQUFTSSxjQUFjLFFBRXJDOEMsRUFBUUosSUFBTSxhQUNkSSxFQUFRN0IsS0FBTyxXQUNYOUYsRUFBb0IrRSxLQUN2QjRDLEVBQVFDLE1BQVE1SCxFQUFvQitFLElBbUJyQzRDLEVBQVF0QyxRQUFVc0MsRUFBUXJDLE9BakJKRixJQUdyQixHQURBdUMsRUFBUXRDLFFBQVVzQyxFQUFRckMsT0FBUyxLQUNoQixTQUFmRixFQUFNVSxLQUNUa0IsUUFDTSxDQUNOLElBQUlhLEVBQVl6QyxHQUFTQSxFQUFNVSxLQUMzQmdDLEVBQVcxQyxHQUFTQSxFQUFNVyxRQUFVWCxFQUFNVyxPQUFPbUIsTUFBUUMsRUFDekRZLEVBQU0sSUFBSXBCLE1BQU0scUJBQXVCeEQsRUFBVSxjQUFnQjBFLEVBQVksS0FBT0MsRUFBVyxLQUNuR0MsRUFBSUMsS0FBTyxpQkFDWEQsRUFBSUUsS0FBTyx3QkFDWEYsRUFBSWpDLEtBQU8rQixFQUNYRSxFQUFJRyxRQUFVSixFQUNWSCxFQUFRakMsWUFBWWlDLEVBQVFqQyxXQUFXQyxZQUFZZ0MsR0FDdkRWLEVBQU9jLEVBQ1IsR0FHREosRUFBUVQsS0FBT0MsRUFNZDFDLFNBQVN1QixLQUFLQyxZQUFZMEIsSUF1QjFCUSxDQUFpQmhGLEVBQVNnRSxFQUFVLEVBQU1ILEVBQVNDLEtBWVBtQixDQUFlakYsR0FBU2YsS0FBSyxLQUN4RTBFLEVBQW1CM0QsR0FBVyxHQUMzQkQsSUFFSCxhQURPNEQsRUFBbUIzRCxHQUNwQkQsS0F4RWtDLEMsV0NLM0MsSUFBSW1GLEVBQWtCLENBQ3JCLElBQUssR0FHTnJJLEVBQW9CaUQsRUFBRS9CLEVBQUksQ0FBQ2lDLEVBQVNJLEtBRWxDLElBQUkrRSxFQUFxQnRJLEVBQW9CNkMsRUFBRXdGLEVBQWlCbEYsR0FBV2tGLEVBQWdCbEYsUUFBV2hELEVBQ3RHLEdBQTBCLElBQXZCbUksRUFHRixHQUFHQSxFQUNGL0UsRUFBU2MsS0FBS2lFLEVBQW1CLFNBRWpDLEdBQUcsS0FBT25GLEVBQVMsQ0FFbEIsSUFBSW9GLEVBQVUsSUFBSW5GLFFBQVEsQ0FBQzRELEVBQVNDLElBQVlxQixFQUFxQkQsRUFBZ0JsRixHQUFXLENBQUM2RCxFQUFTQyxJQUMxRzFELEVBQVNjLEtBQUtpRSxFQUFtQixHQUFLQyxHQUd0QyxJQUFJcEUsRUFBTW5FLEVBQW9CNkcsRUFBSTdHLEVBQW9Cd0QsRUFBRUwsR0FFcERxRixFQUFRLElBQUk3QixNQWdCaEIzRyxFQUFvQmtFLEVBQUVDLEVBZkZpQixJQUNuQixHQUFHcEYsRUFBb0I2QyxFQUFFd0YsRUFBaUJsRixLQUVmLEtBRDFCbUYsRUFBcUJELEVBQWdCbEYsTUFDUmtGLEVBQWdCbEYsUUFBV2hELEdBQ3JEbUksR0FBb0IsQ0FDdEIsSUFBSVQsRUFBWXpDLElBQXlCLFNBQWZBLEVBQU1VLEtBQWtCLFVBQVlWLEVBQU1VLE1BQ2hFMkMsRUFBVXJELEdBQVNBLEVBQU1XLFFBQVVYLEVBQU1XLE9BQU9kLElBQ3BEdUQsRUFBTUUsUUFBVSxpQkFBbUJ2RixFQUFVLGNBQWdCMEUsRUFBWSxLQUFPWSxFQUFVLElBQzFGRCxFQUFNUixLQUFPLGlCQUNiUSxFQUFNMUMsS0FBTytCLEVBQ2JXLEVBQU1OLFFBQVVPLEVBQ2hCSCxFQUFtQixHQUFHRSxFQUN2QixHQUd1QyxTQUFXckYsRUFBU0EsRUFDOUQsTUFBT2tGLEVBQWdCbEYsR0FBVyxHQWF0Q25ELEVBQW9CUSxFQUFFVSxFQUFLaUMsR0FBMEMsSUFBN0JrRixFQUFnQmxGLEdBR3hELElBQUl3RixFQUF1QixDQUFDQyxFQUE0QkMsS0FDdkQsSUFHSTVJLEVBQVVrRCxHQUhUekMsRUFBVW9JLEVBQWFDLEdBQVdGLEVBR2hCOUgsRUFBSSxFQUMzQixHQUFHTCxFQUFTc0ksS0FBTUMsR0FBZ0MsSUFBeEJaLEVBQWdCWSxJQUFhLENBQ3RELElBQUloSixLQUFZNkksRUFDWjlJLEVBQW9CNkMsRUFBRWlHLEVBQWE3SSxLQUNyQ0QsRUFBb0JPLEVBQUVOLEdBQVk2SSxFQUFZN0ksSUFHaEQsR0FBRzhJLEVBQVMsSUFBSXRJLEVBQVNzSSxFQUFRL0ksRUFDbEMsQ0FFQSxJQURHNEksR0FBNEJBLEVBQTJCQyxHQUNyRDlILEVBQUlMLEVBQVNNLE9BQVFELElBQ3pCb0MsRUFBVXpDLEVBQVNLLEdBQ2hCZixFQUFvQjZDLEVBQUV3RixFQUFpQmxGLElBQVlrRixFQUFnQmxGLElBQ3JFa0YsRUFBZ0JsRixHQUFTLEtBRTFCa0YsRUFBZ0JsRixHQUFXLEVBRTVCLE9BQU9uRCxFQUFvQlEsRUFBRUMsSUFHMUJ5SSxFQUFxQkMsS0FBMkIscUJBQUlBLEtBQTJCLHNCQUFLLEdBQ3hGRCxFQUFtQnZHLFFBQVFnRyxFQUFxQjlDLEtBQUssS0FBTSxJQUMzRHFELEVBQW1CN0UsS0FBT3NFLEVBQXFCOUMsS0FBSyxLQUFNcUQsRUFBbUI3RSxLQUFLd0IsS0FBS3FELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2Vjb2JhemFyL3dlYnBhY2svcnVudGltZS9jcmVhdGUgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2Vjb2JhemFyL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZWNvYmF6YXIvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vZWNvYmF6YXIvd2VicGFjay9ydW50aW1lL2dldCBtaW5pLWNzcyBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2Vjb2JhemFyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZWNvYmF6YXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9lY29iYXphci93ZWJwYWNrL3J1bnRpbWUvY3NzIGxvYWRpbmciLCJ3ZWJwYWNrOi8vZWNvYmF6YXIvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gKG9iaikgPT4gKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSA6IChvYmopID0+IChvYmouX19wcm90b19fKTtcbnZhciBsZWFmUHJvdG90eXBlcztcbi8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLy8gbW9kZSAmIDE2OiByZXR1cm4gdmFsdWUgd2hlbiBpdCdzIFByb21pc2UtbGlrZVxuLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcblx0aWYobW9kZSAmIDEpIHZhbHVlID0gdGhpcyh2YWx1ZSk7XG5cdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG5cdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcblx0XHRpZigobW9kZSAmIDQpICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcblx0XHRpZigobW9kZSAmIDE2KSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG5cdHZhciBkZWYgPSB7fTtcblx0bGVhZlByb3RvdHlwZXMgPSBsZWFmUHJvdG90eXBlcyB8fCBbbnVsbCwgZ2V0UHJvdG8oe30pLCBnZXRQcm90byhbXSksIGdldFByb3RvKGdldFByb3RvKV07XG5cdGZvcih2YXIgY3VycmVudCA9IG1vZGUgJiAyICYmIHZhbHVlOyAodHlwZW9mIGN1cnJlbnQgPT0gJ29iamVjdCcgfHwgdHlwZW9mIGN1cnJlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgIX5sZWFmUHJvdG90eXBlcy5pbmRleE9mKGN1cnJlbnQpOyBjdXJyZW50ID0gZ2V0UHJvdG8oY3VycmVudCkpIHtcblx0XHRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJyZW50KS5mb3JFYWNoKChrZXkpID0+IChkZWZba2V5XSA9ICgpID0+ICh2YWx1ZVtrZXldKSkpO1xuXHR9XG5cdGRlZlsnZGVmYXVsdCddID0gKCkgPT4gKHZhbHVlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBkZWYpO1xuXHRyZXR1cm4gbnM7XG59OyIsInZhciBpblByb2dyZXNzID0ge307XG52YXIgZGF0YVdlYnBhY2tQcmVmaXggPSBcImVjb2JhemFyOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcblx0fVxuXHRpblByb2dyZXNzW3VybF0gPSBbZG9uZV07XG5cdHZhciBvblNjcmlwdENvbXBsZXRlID0gKHByZXYsIGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuXHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdHZhciBkb25lRm5zID0gaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdGRlbGV0ZSBpblByb2dyZXNzW3VybF07XG5cdFx0c2NyaXB0LnBhcmVudE5vZGUgJiYgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcblx0XHRkb25lRm5zICYmIGRvbmVGbnMuZm9yRWFjaCgoZm4pID0+IChmbihldmVudCkpKTtcblx0XHRpZihwcmV2KSByZXR1cm4gcHJldihldmVudCk7XG5cdH1cblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZiA9IHt9O1xuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLy8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5mKS5yZWR1Y2UoKHByb21pc2VzLCBrZXkpID0+IHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZba2V5XShjaHVua0lkLCBwcm9taXNlcyk7XG5cdFx0cmV0dXJuIHByb21pc2VzO1xuXHR9LCBbXSkpO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18udSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJtYWluLlwiICsge1wiNVwiOlwiZGMwZjAxZjYzZGRmNGRjZmMyMDlcIixcIjUyXCI6XCI3NWNhMWJmZmQwYjk3NmFiODA4OFwiLFwiNjNcIjpcIjM3YjQyNzAzZTAwNTVhZWRhZjQwXCIsXCI5MFwiOlwiZDFiYTgzZTg0Y2U2MDRmZWZhNjlcIixcIjk1XCI6XCJkMjAzNWQ1NTRmMDk2NGVkMzIyOFwiLFwiMTA4XCI6XCI2OGUzY2I4ZmM3NWIxODNkMjBmZVwiLFwiMjUxXCI6XCI4ODA2ZmFmNTRjMTQwYzE4ZDQxYVwiLFwiMjk2XCI6XCIxZmFkMWVmMWZiZmMwMjdjMWE4ZlwiLFwiMzE0XCI6XCIzMzI4NzBjNmI3NmQ5YjI1ODJjMVwiLFwiMzM1XCI6XCI0NzA5YjIzYTk4ZjlmYjRmMDMzYlwiLFwiMzU1XCI6XCI5OTRiZjdkZjZiOGUwNmQ4OGNiNVwiLFwiNTI4XCI6XCIwYzEzNDkzNDk3NGU3YTc0NjhiNlwiLFwiNTYwXCI6XCIzMmFhZjQwODMxNzBmNGUwZTcxMFwiLFwiNTYyXCI6XCI5ZWY0MTA5YmUwZGVjNTRjYjI3NFwiLFwiNjM5XCI6XCJmNDZmYzNiOTU1N2NjNDAzMzAxOVwiLFwiNjQzXCI6XCIyZWViMmUxYjE3MjU5MDNmMDYwN1wiLFwiNjQ3XCI6XCJlOGFjNTJhNWRjNjZjNGQzMzA4M1wiLFwiNzAwXCI6XCJmMTExZmZjZDEyN2RiNjE3NTAxZlwiLFwiNzE3XCI6XCI3N2U3ODlhOWM2ZDI4OWMzZGJiZVwiLFwiNzIzXCI6XCI0ODMzNDNkZTQzNTJmOGFmMWFkZVwiLFwiNzMyXCI6XCIzYzQxOTUxOGM4ZjQ5NDRhNjk1Y1wiLFwiNzU3XCI6XCI5OTdjYjcyOWMzODg0OGJiZWZjOVwiLFwiODE1XCI6XCJhODA3ZWM1MDU3ZTdjMzRmYWExMVwiLFwiOTEwXCI6XCJlNTkzYWNkYjJkZWEwYmIzYThjYlwiLFwiOTg2XCI6XCI5MDc3MDVjZmZmNWEyY2U5ZjE0MFwiLFwiOTk2XCI6XCJjOGU0MTU1MDMwNjkzY2UzYzliZlwifVtjaHVua0lkXSArIFwiLmpzXCI7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRiA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJjc3MvbWFpbi5cIiArIHtcIjVcIjpcImQ2ZmY3YWU1NDE0ZjU1NmYwOGFlXCIsXCI1MlwiOlwiYTVjOWM1NGU3OGEyY2IyM2I3YjlcIixcIjkwXCI6XCIwNGQxMDA2Mjg5YzA1Y2I2ZjEwZFwiLFwiOTVcIjpcImIwZjI3NmYzYmMwYzNhNGFkOWFlXCIsXCIxMDhcIjpcIjFmY2I2NDYyYmQ5YzFmODgxMDMyXCIsXCIyNTFcIjpcImI2NWE5MWQ2MDExYzUyMDgxODg0XCIsXCIyOTZcIjpcIjVlMGZmNTU5MDdkZGFjYWRhM2ZiXCIsXCIzMTRcIjpcImEyOGRmMWNhMmQzYTkzMjA5NDc5XCIsXCIzMzVcIjpcIjY4YTczMjYzOTA0ZDJkNGExMDM2XCIsXCIzNTVcIjpcIjg2NTQxZDNlNmFhMWU3MjU5MzA4XCIsXCI1MjhcIjpcIjgwY2ViMzk4OWQ3Y2U0Yjg5NzM3XCIsXCI1NjBcIjpcIjMxN2IzYjVjNjg5MzQwMmI0NjAwXCIsXCI1NjJcIjpcImI0YTA5YmNhMjc5ZDkwMDg3NjIxXCIsXCI2NDNcIjpcImNjYTdhN2ZjNDUzZWY0NDMxMjllXCIsXCI2NDdcIjpcIjNiYjBkNGVjZDdkNzVkNzRjMDhmXCIsXCI3MDBcIjpcIjdiYmI2YThlMGMzNWVmNzEzNjE1XCIsXCI3MTdcIjpcIjc5ZWJiNGFiYTI5ZTZkNWY4N2Y5XCIsXCI3MjNcIjpcIjIwZjNiNDRhM2VlYzVmODZhMzJjXCIsXCI3MzJcIjpcImM3MjZkMjE5NzUzNDYyMTc2ZGM3XCIsXCI3NTdcIjpcIjgwOWJmZGE1MTM5NGFkNzVjOWVkXCIsXCI4MTVcIjpcImFjMzM2NTNiNTZhZjE5ZjY5Zjc0XCIsXCI5MTBcIjpcIjJkNzllYjIyNGQ0NDJmZjk1ZmU5XCIsXCI5ODZcIjpcImU1MmRjODhhNjhiMTliYmJkMjIxXCIsXCI5OTZcIjpcImM1OTliYjc2YTFiOTUyY2ViZmRjXCJ9W2NodW5rSWRdICsgXCIuY3NzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbnZhciBjcmVhdGVTdHlsZXNoZWV0ID0gKGNodW5rSWQsIGZ1bGxocmVmLCBvbGRUYWcsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHR2YXIgbGlua1RhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGxpbmtUYWcucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdGxpbmtUYWcudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcblx0XHRsaW5rVGFnLm5vbmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uYztcblx0fVxuXHR2YXIgb25MaW5rQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcblx0XHQvLyBhdm9pZCBtZW0gbGVha3MuXG5cdFx0bGlua1RhZy5vbmVycm9yID0gbGlua1RhZy5vbmxvYWQgPSBudWxsO1xuXHRcdGlmIChldmVudC50eXBlID09PSAnbG9hZCcpIHtcblx0XHRcdHJlc29sdmUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIGV2ZW50LnR5cGU7XG5cdFx0XHR2YXIgcmVhbEhyZWYgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmhyZWYgfHwgZnVsbGhyZWY7XG5cdFx0XHR2YXIgZXJyID0gbmV3IEVycm9yKFwiTG9hZGluZyBDU1MgY2h1bmsgXCIgKyBjaHVua0lkICsgXCIgZmFpbGVkLlxcbihcIiArIGVycm9yVHlwZSArIFwiOiBcIiArIHJlYWxIcmVmICsgXCIpXCIpO1xuXHRcdFx0ZXJyLm5hbWUgPSBcIkNodW5rTG9hZEVycm9yXCI7XG5cdFx0XHRlcnIuY29kZSA9IFwiQ1NTX0NIVU5LX0xPQURfRkFJTEVEXCI7XG5cdFx0XHRlcnIudHlwZSA9IGVycm9yVHlwZTtcblx0XHRcdGVyci5yZXF1ZXN0ID0gcmVhbEhyZWY7XG5cdFx0XHRpZiAobGlua1RhZy5wYXJlbnROb2RlKSBsaW5rVGFnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGlua1RhZylcblx0XHRcdHJlamVjdChlcnIpO1xuXHRcdH1cblx0fVxuXHRsaW5rVGFnLm9uZXJyb3IgPSBsaW5rVGFnLm9ubG9hZCA9IG9uTGlua0NvbXBsZXRlO1xuXHRsaW5rVGFnLmhyZWYgPSBmdWxsaHJlZjtcblxuXG5cdGlmIChvbGRUYWcpIHtcblx0XHRvbGRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGlua1RhZywgb2xkVGFnLm5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmtUYWcpO1xuXHR9XG5cdHJldHVybiBsaW5rVGFnO1xufTtcbnZhciBmaW5kU3R5bGVzaGVldCA9IChocmVmLCBmdWxsaHJlZikgPT4ge1xuXHR2YXIgZXhpc3RpbmdMaW5rVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nTGlua1RhZ3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdGFnID0gZXhpc3RpbmdMaW5rVGFnc1tpXTtcblx0XHR2YXIgZGF0YUhyZWYgPSB0YWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpIHx8IHRhZy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXHRcdGlmKHRhZy5yZWwgPT09IFwic3R5bGVzaGVldFwiICYmIChkYXRhSHJlZiA9PT0gaHJlZiB8fCBkYXRhSHJlZiA9PT0gZnVsbGhyZWYpKSByZXR1cm4gdGFnO1xuXHR9XG5cdHZhciBleGlzdGluZ1N0eWxlVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGVcIik7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBleGlzdGluZ1N0eWxlVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ1N0eWxlVGFnc1tpXTtcblx0XHR2YXIgZGF0YUhyZWYgPSB0YWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpO1xuXHRcdGlmKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikgcmV0dXJuIHRhZztcblx0fVxufTtcbnZhciBsb2FkU3R5bGVzaGVldCA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0dmFyIGhyZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGKGNodW5rSWQpO1xuXHRcdHZhciBmdWxsaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIGhyZWY7XG5cdFx0aWYoZmluZFN0eWxlc2hlZXQoaHJlZiwgZnVsbGhyZWYpKSByZXR1cm4gcmVzb2x2ZSgpO1xuXHRcdGNyZWF0ZVN0eWxlc2hlZXQoY2h1bmtJZCwgZnVsbGhyZWYsIG51bGwsIHJlc29sdmUsIHJlamVjdCk7XG5cdH0pO1xufVxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBDU1MgY2h1bmtzXG52YXIgaW5zdGFsbGVkQ3NzQ2h1bmtzID0ge1xuXHQxMjE6IDBcbn07XG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5taW5pQ3NzID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdHZhciBjc3NDaHVua3MgPSB7XCI1XCI6MSxcIjUyXCI6MSxcIjkwXCI6MSxcIjk1XCI6MSxcIjEwOFwiOjEsXCIyNTFcIjoxLFwiMjk2XCI6MSxcIjMxNFwiOjEsXCIzMzVcIjoxLFwiMzU1XCI6MSxcIjUyOFwiOjEsXCI1NjBcIjoxLFwiNTYyXCI6MSxcIjY0M1wiOjEsXCI2NDdcIjoxLFwiNzAwXCI6MSxcIjcxN1wiOjEsXCI3MjNcIjoxLFwiNzMyXCI6MSxcIjc1N1wiOjEsXCI4MTVcIjoxLFwiOTEwXCI6MSxcIjk4NlwiOjEsXCI5OTZcIjoxfTtcblx0aWYoaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdKSBwcm9taXNlcy5wdXNoKGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSk7XG5cdGVsc2UgaWYoaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdICE9PSAwICYmIGNzc0NodW5rc1tjaHVua0lkXSkge1xuXHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdID0gbG9hZFN0eWxlc2hlZXQoY2h1bmtJZCkudGhlbigoKSA9PiB7XG5cdFx0XHRpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdH0sIChlKSA9PiB7XG5cdFx0XHRkZWxldGUgaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KSk7XG5cdH1cbn07XG5cbi8vIG5vIGhtclxuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWQiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTIxOiAwXG59O1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaiA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgPyBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gOiB1bmRlZmluZWQ7XG5cdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuXG5cdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmKDEyMSAhPSBjaHVua0lkKSB7XG5cdFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuXHRcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gKGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdKSk7XG5cdFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuXHRcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcblx0XHRcdFx0XHR2YXIgdXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy51KGNodW5rSWQpO1xuXHRcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblx0XHRcdFx0XHR2YXIgbG9hZGluZ0VuZGVkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSkge1xuXHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubWVzc2FnZSA9ICdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuXHRcdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YVsxXShlcnJvcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubCh1cmwsIGxvYWRpbmdFbmRlZCwgXCJjaHVuay1cIiArIGNodW5rSWQsIGNodW5rSWQpO1xuXHRcdFx0XHR9IGVsc2UgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtlY29iYXphclwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtlY29iYXphclwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7Il0sIm5hbWVzIjpbImRlZmVycmVkIiwibGVhZlByb3RvdHlwZXMiLCJnZXRQcm90byIsImluUHJvZ3Jlc3MiLCJkYXRhV2VicGFja1ByZWZpeCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImkiLCJsZW5ndGgiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiciIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJnZXRQcm90b3R5cGVPZiIsIm9iaiIsInQiLCJ2YWx1ZSIsIm1vZGUiLCJ0aGlzIiwidGhlbiIsIm5zIiwiY3JlYXRlIiwiZGVmIiwiY3VycmVudCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZm9yRWFjaCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZiIsImUiLCJjaHVua0lkIiwiUHJvbWlzZSIsImFsbCIsInJlZHVjZSIsInByb21pc2VzIiwidSIsIm1pbmlDc3NGIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIndpbmRvdyIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJsIiwidXJsIiwiZG9uZSIsInB1c2giLCJzY3JpcHQiLCJuZWVkQXR0YWNoIiwic2NyaXB0cyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzIiwiZ2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJuYyIsInNldEF0dHJpYnV0ZSIsInNyYyIsIm9uU2NyaXB0Q29tcGxldGUiLCJwcmV2IiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwidGltZW91dCIsImRvbmVGbnMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZXRUaW1lb3V0IiwiYmluZCIsInR5cGUiLCJ0YXJnZXQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJ0ZXN0IiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImluc3RhbGxlZENzc0NodW5rcyIsIm1pbmlDc3MiLCJyZXNvbHZlIiwicmVqZWN0IiwiaHJlZiIsImZ1bGxocmVmIiwiZXhpc3RpbmdMaW5rVGFncyIsImRhdGFIcmVmIiwidGFnIiwicmVsIiwiZXhpc3RpbmdTdHlsZVRhZ3MiLCJmaW5kU3R5bGVzaGVldCIsIm9sZFRhZyIsImxpbmtUYWciLCJub25jZSIsImVycm9yVHlwZSIsInJlYWxIcmVmIiwiZXJyIiwibmFtZSIsImNvZGUiLCJyZXF1ZXN0IiwiY3JlYXRlU3R5bGVzaGVldCIsImxvYWRTdHlsZXNoZWV0IiwiaW5zdGFsbGVkQ2h1bmtzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHJvbWlzZSIsImVycm9yIiwicmVhbFNyYyIsIm1lc3NhZ2UiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiZGF0YSIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInNvbWUiLCJpZCIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiXSwic291cmNlUm9vdCI6IiJ9